local UserInputService = game:GetService("UserInputService")
local RunService = game:GetService("RunService")
local Players = game:GetService("Players")

local player = Players.LocalPlayer
local mouse = player:GetMouse()

local clickKey = Enum.KeyCode.Z
local clickDelay = 0.1
local clicking = false

local function startClicking()
	while clicking do
		mouse1click()
		task.wait(clickDelay)
	end
end

local gui = Instance.new("ScreenGui", game.CoreGui)
gui.Name = "ChampionsClicker"
gui.ResetOnSpawn = false

local frame = Instance.new("Frame", gui)
frame.Size = UDim2.new(0, 320, 0, 180)
frame.Position = UDim2.new(0.5, -160, 0.5, -90)
frame.BackgroundColor3 = Color3.fromRGB(60, 0, 100)
frame.BackgroundTransparency = 0.05
frame.BorderSizePixel = 0
frame.Active = true
frame.Draggable = true

local uiCorner = Instance.new("UICorner", frame)
uiCorner.CornerRadius = UDim.new(0, 16)

local title = Instance.new("TextLabel", frame)
title.Size = UDim2.new(1, 0, 0, 40)
title.Position = UDim2.new(0, 0, 0, 0)
title.BackgroundTransparency = 1
title.Text = "âš¡ Champions Clicker"
title.Font = Enum.Font.GothamBold
title.TextColor3 = Color3.fromRGB(200, 120, 255)
title.TextScaled = true

local keyButton = Instance.new("TextButton", frame)
keyButton.Size = UDim2.new(0.45, 0, 0, 30)
keyButton.Position = UDim2.new(0.05, 0, 0, 50)
keyButton.BackgroundColor3 = Color3.fromRGB(120, 60, 200)
keyButton.Text = "Tecla: Z"
keyButton.TextColor3 = Color3.fromRGB(255, 255, 255)
keyButton.Font = Enum.Font.GothamBold
keyButton.TextScaled = true

local delayBox = Instance.new("TextBox", frame)
delayBox.Size = UDim2.new(0.45, 0, 0, 30)
delayBox.Position = UDim2.new(0.5, 0, 0, 50)
delayBox.BackgroundColor3 = Color3.fromRGB(40, 20, 60)
delayBox.TextColor3 = Color3.fromRGB(255, 255, 255)
delayBox.Text = tostring(clickDelay)
delayBox.PlaceholderText = "Retraso"
delayBox.Font = Enum.Font.GothamBold
delayBox.TextScaled = true
delayBox.ClearTextOnFocus = false

local toggleButton = Instance.new("TextButton", frame)
toggleButton.Size = UDim2.new(0.9, 0, 0, 40)
toggleButton.Position = UDim2.new(0.05, 0, 0, 95)
toggleButton.BackgroundColor3 = Color3.fromRGB(150, 80, 255)
toggleButton.Text = "Activar Champions"
toggleButton.TextColor3 = Color3.fromRGB(255, 255, 255)
toggleButton.Font = Enum.Font.GothamBlack
toggleButton.TextScaled = true

local status = Instance.new("TextLabel", frame)
status.Size = UDim2.new(1, 0, 0, 30)
status.Position = UDim2.new(0, 0, 1, -30)
status.BackgroundTransparency = 1
status.Text = "Estado: Inactivo"
status.Font = Enum.Font.Gotham
status.TextColor3 = Color3.fromRGB(200, 200, 255)
status.TextScaled = true

local waitingKey = false
keyButton.MouseButton1Click:Connect(function()
	if waitingKey then return end
	waitingKey = true
	keyButton.Text = "Presiona..."
end)

UserInputService.InputBegan:Connect(function(input, gpe)
	if gpe then return end
	if waitingKey and input.UserInputType == Enum.UserInputType.Keyboard then
		clickKey = input.KeyCode
		keyButton.Text = "Tecla: " .. clickKey.Name
		waitingKey = false
	elseif input.KeyCode == clickKey then
		clicking = not clicking
		status.Text = "Estado: " .. (clicking and "Activado" or "Inactivo")
		toggleButton.Text = clicking and "Desactivar Champions" or "Activar Champions"
		if clicking then
			task.spawn(startClicking)
		end
	end
end)

delayBox.FocusLost:Connect(function(enter)
	if enter then
		local val = tonumber(delayBox.Text)
		if val and val >= 0.01 then
			clickDelay = val
		else
			delayBox.Text = tostring(clickDelay)
		end
	end
end)

toggleButton.MouseButton1Click:Connect(function()
	clicking = not clicking
	status.Text = "Estado: " .. (clicking and "Activado" or "Inactivo")
	toggleButton.Text = clicking and "Desactivar Champions" or "Activar Champions"
	if clicking then
		task.spawn(startClicking)
	end
end)

if UserInputService.TouchEnabled and not UserInputService.KeyboardEnabled then
	local touchButton = Instance.new("TextButton", gui)
	touchButton.Size = UDim2.new(0, 140, 0, 50)
	touchButton.Position = UDim2.new(0.8, 0, 0.75, 0)
	touchButton.BackgroundColor3 = Color3.fromRGB(150, 80, 255)
	touchButton.Text = "Champions"
	touchButton.TextColor3 = Color3.fromRGB(255, 255, 255)
	touchButton.Font = Enum.Font.GothamBold
	touchButton.TextScaled = true
	touchButton.BorderSizePixel = 0

	local corner = Instance.new("UICorner", touchButton)
	corner.CornerRadius = UDim.new(0, 12)

	touchButton.MouseButton1Click:Connect(function()
		clicking = not clicking
		status.Text = "Estado: " .. (clicking and "Activado" or "Inactivo")
		toggleButton.Text = clicking and "Desactivar Champions" or "Activar Champions"
		if clicking then
			task.spawn(startClicking)
		end
	end)
end
